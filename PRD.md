# StyleAgent - Project Requirement Document

## 1. 프로젝트 개요

### 1.1 프로젝트명
**StyleAgent** - 개인 글쓰기 스타일 분석 및 모방 에이전트

### 1.2 목적
사용자의 글쓰기 스타일을 **철저히 분석**하여, 어떤 식의 글쓰기를 지향하는지 **깊이 이해**하고, 해당 스타일로 새로운 글을 생성할 수 있는 AI 에이전트 구축

### 1.3 핵심 가치
- **정확한 스타일 파악**: 단순한 문체 복사가 아닌, 글쓰기 철학과 패턴의 본질적 이해
- **일관성 있는 글 생성**: 사용자가 직접 쓴 것과 구분하기 어려운 수준의 스타일 모방
- **다국어 지원**: 한국어/영어 각각의 스타일을 독립적으로 학습 및 적용

---

## 2. 문제 정의

### 2.1 해결하고자 하는 문제
1. 비즈니스 글 작성 시 일관된 톤과 스타일 유지의 어려움
2. 글쓰기에 소요되는 시간과 노력
3. 다국어 환경에서 각 언어별 스타일 일관성 확보

### 2.2 타겟 사용자
- 비즈니스 문서(이메일, 보고서, 제안서) 작성이 잦은 전문가
- 자신만의 글쓰기 스타일을 보존하고 확장하고 싶은 사용자

---

## 3. 기능 요구사항

### 3.1 스타일 분석 (Style Analysis) - 핵심 기능

#### 3.1.1 정량적 분석
| 분석 항목 | 설명 | 우선순위 |
|----------|------|---------|
| 문장 길이 분포 | 평균, 최소, 최대, 표준편차 | P0 |
| 문단 구조 | 문단당 문장 수, 문단 길이 패턴 | P0 |
| 어휘 다양성 | Type-Token Ratio, 어휘 풍부도 | P0 |
| 품사 분포 | 명사/동사/형용사 비율 | P1 |
| 문장 구조 | 단문/복문/중문 비율 | P1 |

#### 3.1.2 정성적 분석
| 분석 항목 | 설명 | 우선순위 |
|----------|------|---------|
| 톤 & 무드 | 격식체/비격식체, 친근함/전문적 | P0 |
| 수사적 장치 | 질문, 강조, 비유 사용 패턴 | P1 |
| 논리 전개 방식 | 두괄식/미괄식, 귀납/연역 | P1 |
| 독자 관계 | 독자를 어떻게 대하는지 (존칭, 호칭) | P0 |

#### 3.1.3 습관적 표현 추출
| 분석 항목 | 설명 | 우선순위 |
|----------|------|---------|
| 시작 패턴 | 글/문단을 시작하는 방식 | P0 |
| 마무리 패턴 | 글/문단을 마무리하는 방식 | P0 |
| 연결어 선호 | 자주 사용하는 접속사/연결 표현 | P0 |
| 특징적 어휘 | 사용자만의 표현, 자주 쓰는 단어 | P0 |
| 회피 표현 | 사용하지 않는 표현 패턴 | P2 |

### 3.2 스타일 프로필 (Style Profile)

#### 3.2.1 프로필 구성요소
```
StyleProfile
├── metadata
│   ├── profile_name
│   ├── language (ko/en)
│   ├── created_at
│   └── sample_count
├── quantitative_metrics
│   ├── sentence_stats
│   ├── paragraph_stats
│   └── vocabulary_stats
├── qualitative_traits
│   ├── tone
│   ├── formality_level
│   └── reader_relationship
├── signature_patterns
│   ├── opening_patterns
│   ├── closing_patterns
│   ├── transition_words
│   └── characteristic_phrases
└── sample_excerpts
    └── representative_sentences[]
```

#### 3.2.2 프로필 관리
- 다중 프로필 지원 (한국어/영어 분리)
- 프로필 버전 관리
- 프로필 병합/비교 기능

#### 3.2.3 스타일 가이드 명명 규칙
스타일 가이드 파일명은 다음 형식을 따른다:

```
Style_guide_{레이블}_{글의특성}_{언어}_{버전}.md
```

| 구성요소 | 설명 | 예시 |
|---------|------|------|
| 레이블 | 작성자/출처 식별자 | `Sumin`, `Bluehouse`, `Company` |
| 글의특성 | 문서 유형 | `report`, `Email`, `proposal` |
| 언어 | 작성 언어 | `Korean`, `English` |
| 버전 | 버전 번호 | `rev0`, `rev1`, `v1.0` |

**예시:**
- `Style_guide_Sumin_report_Korean_rev0.md`
- `Style_guide_Sumin_Email_English_rev0.md`
- `Style_guide_Bluehouse_report_Korean.md`

### 3.3 글 생성 (Content Generation)

#### 3.3.1 생성 모드
| 모드 | 설명 | 우선순위 |
|-----|------|---------|
| 초안 작성 | 주제만 주면 스타일에 맞게 새 글 생성 | P0 |
| 스타일 변환 | 기존 글을 사용자 스타일로 재작성 | P1 |
| 이메일 답장 | 받은 메일에 스타일 맞춰 답장 생성 | P1 |
| 문서 확장 | 개요를 바탕으로 상세 문서 작성 | P2 |

#### 3.3.2 생성 옵션
- 문서 유형: 이메일, 보고서, 제안서, 일반 문서
- 길이: short / medium / long
- 톤 강도: 스타일 적용 강도 조절

### 3.4 데이터 입력 (Data Input)

#### 3.4.1 지원 소스
| 소스 | 형식 | 우선순위 |
|-----|------|---------|
| 로컬 파일 | .docx, .txt, .md | P0 |
| ChatGPT 내보내기 | conversations.json | P0 |
| 클립보드 | 직접 붙여넣기 | P1 |
| Notion | API 연동 | P2 |
| Confluence | API 연동 | P2 |

---

## 4. 비기능 요구사항

### 4.1 성능
- 스타일 분석: 10개 문서 기준 30초 이내
- 글 생성: 응답 시간 10초 이내

### 4.2 사용성
- CLI 기반 인터페이스 (1차)
- 직관적인 명령어 구조

### 4.3 확장성
- 새로운 데이터 소스 추가 용이
- 분석 모듈 독립적 확장 가능

### 4.4 보안
- API 키 환경변수 관리
- 로컬 데이터 처리 (외부 전송 최소화)

---

## 5. 기술 스택

| 구분 | 기술 | 비고 |
|-----|------|-----|
| 언어 | Python 3.10+ | |
| LLM | Anthropic Claude API | 주력 |
| NLP | KoNLPy (한국어) | 형태소 분석 |
| 문서 파싱 | python-docx | Word 문서 |
| CLI | Click + Rich | 사용자 인터페이스 |

---

## 6. 마일스톤

### Phase 1: MVP (현재)
- [x] 기본 문서 파싱 (docx, txt)
- [x] 기초 스타일 분석 (문장/문단/어휘 통계)
- [x] 프로필 저장/로드
- [x] 기본 글 생성
- [x] ChatGPT 데이터 파서

### Phase 2: 심화 분석
- [ ] 형태소 분석 기반 품사 분포
- [ ] 톤/격식 자동 감지 고도화
- [ ] 시작/마무리 패턴 자동 추출
- [ ] 특징적 표현 클러스터링

### Phase 3: 고급 기능
- [ ] 스타일 리포트 자동 생성
- [ ] 프로필 비교 기능
- [ ] 생성 품질 자체 평가
- [ ] 웹 UI (선택)

---

## 7. 성공 지표

| 지표 | 목표 | 측정 방법 |
|-----|------|----------|
| 스타일 일치도 | 80% 이상 | 블라인드 테스트 |
| 사용자 수정률 | 30% 이하 | 생성 후 수정 비율 |
| 분석 정확도 | - | 사용자 피드백 |

---

## 8. 제약사항 및 가정

### 8.1 제약사항
- LLM API 비용 발생
- 학습 데이터 최소 5개 문서 권장

### 8.2 가정
- 사용자가 일관된 글쓰기 스타일을 가지고 있음
- 충분한 샘플 데이터 확보 가능

---

## 9. 용어 정의

| 용어 | 정의 |
|-----|------|
| 스타일 프로필 | 사용자 글쓰기 특성을 정량/정성적으로 정리한 데이터 |
| 톤(Tone) | 글의 감정적/태도적 특성 (격식, 친근함 등) |
| 시그니처 패턴 | 사용자만의 특징적인 표현 방식 |

---

*문서 버전: 1.0*
*최종 수정: 2025-01-01*
